<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="css/navbarStyle.css">
    <link rel="stylesheet" href="css/termin_bearbeitenStyle.css">
    <title>Termin Löschen</title>
</head>
<header>
    <div class="navbar">
        <a href="Monthly-View.html" class="left-icon">
            <img src="pictures/clock.png" alt="clock-icon" class="left-icon"></a>

        <div class="nav-buttons">
            <a href="Monthly-View.html"><button class="nav-button active" onclick="setActive(this)">Monatsansicht</button></a>
            <a href="WeeklyView.html"><button class="nav-button" onclick="setActive(this)">Wochenansicht</button></a> 
            <a href="Daily-View.html"><button class="nav-button" onclick="setActive(this)">Tagesansicht</button></a>          
        </div>

        <div class="right-icons">
            <a href="Termin_erstellen.html" class="right-icons">
                <img src="pictures/appo.png" alt="Termine" class="icon"></a>
            <a href="Erinnerung_bearbeiten.html" class="right-icons">
                <img src="pictures/bell.webp" alt="Erinnerungen" class="icon"></a>
        </div>
    </div>

    <div>
        <h1>&nbsp;</h1>
    </div>

    <script>
        function setActive(button) {
            document.querySelectorAll('.nav-button').forEach(btn => btn.classList.remove('active'));
            button.classList.add('active');
        }

        function handleSelection() {
            let selection = document.getElementById("dropdown").value;
            
            if (selection === "bearbeiten") {
                window.location.href = "Termin_bearbeiten.html";
            } else if (selection === "loeschen") {
                window.location.href = "Termin_loeschen.html";
            } else if (selection === "erstellen") {
                window.location.href = "Termin_erstellen.html";
            }
        }
    </script>
</header>

<body>
    <br><br>
    <article>
        <div>
            <h1 id="uhrzeit"></h1>
            <script>
                function updateUhrzeit() {
                    const jetzt = new Date();
                    
                    // Uhrzeit
                    const stunden = jetzt.getHours().toString().padStart(2, '0');
                    const minuten = jetzt.getMinutes().toString().padStart(2, '0');
                    const sekunden = jetzt.getSeconds().toString().padStart(2, '0');
                    const uhrzeitText = `${stunden}:${minuten}:${sekunden}`;
                    
                    // Monat als Text
                    const monate = [
                        "Januar", "Februar", "März", "April", "Mai", "Juni",
                        "Juli", "August", "September", "Oktober", "November", "Dezember"
                    ];
                    const tag = jetzt.getDate().toString().padStart(2, '0');
                    const monat = monate[jetzt.getMonth()];  // Monat in Textform
                    const jahr = jetzt.getFullYear();
                    const datumText = `${tag}. ${monat} ${jahr}`;
                    
                    // Anzeige von Uhrzeit und Datum
                    document.getElementById('uhrzeit').innerHTML = `<span style="font-size: 38px;">${uhrzeitText}</span><br>
                        <span style="font-size: 20px; color: grey;">${datumText}</span>`;
                }
                
                setInterval(updateUhrzeit, 1000);
                updateUhrzeit();
            </script>
        </div>

        <div>
            <br>
            <select name="dropdown" id="dropdown" onchange="handleSelection()">
                <option value="" disabled selected>Bitte eine Aktion wählen</option> <!-- Placeholder Option -->
                <option value="erstellen">Erstellen</option>
                <option value="bearbeiten">Bearbeiten</option>
                <option value="loeschen">Löschen</option>
            </select>

            <h2>Wähle einen Termin zum Löschen</h2>
            <form id="terminForm" action="deleteTermin.php" method="POST">
                <label for="terminDropdown">Termin auswählen:</label>
                <select name="termin" id="terminDropdown" required>
                    <option value="" disabled selected>Bitte einen Termin wählen</option>
                    <?php include 'getTerminOptions.php'; ?> <!-- Holt die Termine aus der Datenbank -->
                </select>
                <br><br>
                <button type="submit" onclick="return confirm('Möchten Sie diesen Termin wirklich löschen?')">Termin Löschen</button>
            </form>
        </div>
    </article>
</body>
</html>
